<div class="col-xs-12">

    @using (Html.BeginForm("SaveMembers", "SupportTeams", FormMethod.Post, new { @class = "form-horizontal", Id = "Manage-Members-Form" }))
    {
        @Html.Hidden("TeamId")
        <div class="form-group">
            <label class="col-sm-3 control-label no-padding-right"> Select Users</label>
            <div class="col-sm-9">
                @Html.DropDownList("UserId", new SelectList(ViewBag.lstUser as System.Collections.IEnumerable, "Value", "Text"), new { @multiple = "multiple", @id = "duallist", style = "height:200px;" })
                <div class="hr hr-16 hr-dotted"></div>
                <span data-valmsg-replace="true" id="msg" class="field-validation-valid"></span>
            </div>
        </div>
        <div class="clearfix form-group form-actions">
            <div class="col-md-offset-3 col-md-9">
                <button class="btn btn-sm btn-primary" type="submit">
                    <i class="ace-icon fa fa-check bigger-110"></i>
                    Save
                </button>
                &nbsp;
                <button class="btn btn-sm" type="button" onclick="window.location='/Admin/SupportTeams/Index'">
                    <i class="ace-icon fa fa-times"></i>
                    Cancel
                </button>
            </div>
        </div>
    }
</div>

<script type="text/javascript">
    $(document).ready(function () {

        $("#TeamId").val('@ViewBag.TeamId');

        var Users = '@ViewBag.SelectedUsers';
        $("#duallist").val(Users.split(","));

        var demo1 = $('select[name="UserId"]').bootstrapDualListbox({ infoTextFiltered: '<span class="label label-purple label-lg">Filtered</span>' });
        var container1 = demo1.bootstrapDualListbox('getContainer');
        container1.find('.btn').addClass('btn-white btn-info btn-bold');
    });
</script>